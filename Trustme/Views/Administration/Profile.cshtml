
@{

    IEnumerable<Key> Keys = ViewData["keys"] as IEnumerable<Key>;
    User CurrentUser = ViewData["user"] as User;

}

<div class="container emp-profile">
    <form method="post">
        <div class="row">
            <div class="col-md-4">
                <div class="profile-img">
                    <img src="~/images/user.png" alt="" />
                    <div class="file btn btn-lg btn-primary">
                        Change Photo
                        <input type="file" name="file" />
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="profile-head">
                    <div class="col-md-8">
                        <div class="tab-content profile-tab" id="myTabContent">
                            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                                @if (CurrentUser != null)
                                {
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label>Firt name</label>
                                        </div>
                                        <div class="col-md-6">
                                            <p> @CurrentUser.FirstName </p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label>Second name</label>
                                        </div>
                                        <div class="col-md-6">
                                            <p> @CurrentUser.SecondName </p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label>Mail</label>
                                        </div>
                                        <div class="col-md-6">
                                            <p> @CurrentUser.Mail </p>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <table class="table">
            <thead>
                <tr>
                    <th>
                        Certificate name
                    </th>
                    <th>
                        Description
                    </th>
                    <th>
                        Key Size
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Keys)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.CertificateName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.KeySize)
                        </td>
                        <td>
                            <a asp-action="Edit" asp-route-id="@item.KeyId">Edit</a> |
                            <a asp-action="DeleteCertificate" asp-route-id="@item.KeyId">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </form>

    <a class="btn btn-info btn-lg" asp-controller="Administration" asp-action="LogOut">
    <span class="glyphicon glyphicon-log-out"></span> Log out
    </a>
</div>